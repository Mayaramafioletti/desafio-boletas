<p-table
  #dt1
  [value]="boletas"
  dataKey="id"
  [rows]="10"
  [rowsPerPageOptions]="[10, 25, 50]"
  [loading]="loading"
  [paginator]="true"
  [globalFilterFields]="['nomeCliente', 'nomeFundo', 'nomeSituacao']"
>
  <ng-template #caption>
    <div class="flex">
      <p-button label="Limpar" [outlined]="true" icon="pi pi-filter-slash" (click)="clear(dt1)" />
    </div>
  </ng-template>

  <ng-template pTemplate="header">
    <tr>
      <th>
        Cód. Operação
        <p-columnFilter
          type="numeric"
          field="id"
          display="menu"
          [showMatchModes]="false"
          [showOperator]="false"
          [showAddButton]="false"
          [showApplyButton]="false"
        >
          <ng-template pTemplate="filter" let-value let-filter="filterCallback">
            <input
              type="number"
              pInputText
              [(ngModel)]="codigoOperacao"
              placeholder="Digite o código"
              (ngModelChange)="aplicarFiltros()"
              class="w-full"
            />
          </ng-template>
        </p-columnFilter>
      </th>
      <th>ID Cliente</th>
      <th>CPF/CNPJ Cliente</th>
      <th>
        Cliente
        <p-columnFilter field="idCliente" matchMode="in" display="menu" [showMatchModes]="false" [showOperator]="false" [showAddButton]="false" [showApplyButton]="false">
            <ng-template pTemplate="filter" let-value let-filter="filterCallback">
              <p-select
                [(ngModel)]="selectedCliente"
                [options]="clientes"
                optionLabel="nome"
                optionValue="id"
                placeholder="Selecione os clientes"
                (onChange)="aplicarFiltros()"
                class="w-full"
              />
            </ng-template>
          </p-columnFilter>
      </th>
      <th>ID Fundo</th>
      <th>CNPJ Fundo</th>
      <th>
        Fundo
        <p-columnFilter field="idFundo" matchMode="in" display="menu" [showMatchModes]="false" [showOperator]="false" [showAddButton]="false" [showApplyButton]="false">
            <ng-template pTemplate="filter" let-value let-filter="filterCallback">
              <p-select
                [(ngModel)]="selectedFundo"
                [options]="fundos"
                optionLabel="nome"
                optionValue="id"
                placeholder="Selecione os fundos"
                (onChange)="aplicarFiltros()"
                class="w-full"
              />
            </ng-template>
          </p-columnFilter>
          
      </th>
      <th>
        Situação
        <p-columnFilter field="idsSituacoes" matchMode="in" display="menu" [showMatchModes]="false" [showOperator]="false" [showAddButton]="false" [showApplyButton]="false">
            <ng-template pTemplate="filter" let-value let-filter="filterCallback">
              <p-multiSelect
                [(ngModel)]="selectedSituacoes"
                [options]="situacoes"
                optionLabel="nome"
                optionValue="id"
                placeholder="Selecione as situações"
                (onChange)="aplicarFiltros()"
                class="w-full"
              />
            </ng-template>
          </p-columnFilter>
      </th>
      <th>
        Tipo Operação
        <p-columnFilter type="text" field="descricaoTipoOperacao" display="menu" />
      </th>
      <th>
        Data
        <p-columnFilter type="date" field="dataOperacao" display="menu" />
      </th>
      <th>
        Valor
        <p-columnFilter type="numeric" field="valorFinanceiro" display="menu" currency="BRL" />
      </th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-boleta>
    <tr>
      <td>{{ boleta.id }}</td>
      <td>{{ boleta.idCliente }}</td>
      <td>{{ boleta.cpfCnpjCliente }}</td>
      <td>{{ boleta.nomeCliente }}</td>
      <td>{{ boleta.idFundo }}</td>
      <td>{{ boleta.cnpjFundo }}</td>
      <td>{{ boleta.nomeFundo }}</td>
      <td>{{ boleta.nomeSituacao }}</td>
      <td>{{ boleta.descricaoTipoOperacao }}</td>
      <td>{{ boleta.dataOperacao | date: 'dd/MM/yyyy' }}</td>
      <td>{{ boleta.valorFinanceiro | currency: 'BRL' }}</td>
    </tr>
  </ng-template>

  <ng-template #emptymessage>
    <tr>
      <td colspan="11">Nenhum resultado encontrado.</td>
    </tr>
  </ng-template>
</p-table>
